<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>HUGO 折腾随记之热力图 / 段落导航 - 空白Koobai</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><link rel=manifest href=/suju/ios.json><link rel=icon href=https://img.koobai.com/koobai.png><link href=/index.xml title=空白Koobai type=application/rss+xml><link rel=canonical href=https://koobai.com/hugo_suiji/><link rel=stylesheet href=/css/style.min.a3104bf5d8fe2aaebca02bfe8e62b22e93a5af1b04c4b50e7d26e7a8cb7ea9cb.css><meta name=description content="在闲逛各博客的时候，发现有些功能蛮有意思的，于是趁现在还没忙碌起来，跟着抄了下作业，同时通过 AI 的帮忙，优化了下以适应自己页面的风格。现在折腾博客是完全离不开各类 AI 协助了，让一个不懂技术的人也能瞎折腾。"><meta property="og:title" content="HUGO 折腾随记之热力图 / 段落导航"><meta property="og:type" content="website"><meta property="og:url" content="https://koobai.com/hugo_suiji/"><meta property="og:image" content="https://img.koobai.com/article/20240224_hugo.webp"><meta property="og:description" content="在闲逛各博客的时候，发现有些功能蛮有意思的，于是趁现在还没忙碌起来，跟着抄了下作业，同时通过 AI 的帮忙，优化了下以适应自己页面的风格。现在折腾博客是完全离不开各类 AI 协助了，让一个不懂技术的人也能瞎折腾。"></head><body class='page page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li><a href=https://koobai.com/>首页</a></li><li><a href=https://koobai.com/posts/>博文</a></li><li><a href=https://sport.koobai.com/>骑行</a></li><li><a href=https://koobai.com/apps/>软件</a></li><li><a href=https://koobai.com/movies/>观影</a></li><li><a href=https://qiszy.taobao.com>好物</a></li></ul></div><div id=wrapper class=wrapper><div class=header><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div><div class=new-heard-menu><div class=header-menu><a href=/>首页</a></div><div class=header-menu><a href=/posts/>博文</a></div><div class=header-menu><a href=https://sport.koobai.com/>骑行</a></div><div class=header-menu><a href=/apps/>软件</a></div><div class=header-menu><a href=/movies/>观影</a></div><div class=header-menu><a href=https://qiszy.taobao.com target=_blank>好物</a></div></div><div class=heard-right><div class=about-koobai><a href=/about/><img src=https://img.koobai.com/koobai.webp alt=koobai title=我 data-umami-event=me></a></div><a href=https://github.com/koobai/blog title=Github target=_blank class=githuab><svg aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path d="M8 0c4.42.0 8 3.58 8 8a8.013 8.013.0 01-5.45 7.59c-.4.08-.55-.17-.55-.38.0-.27.01-1.13.01-2.2.0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95.0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12.0.0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15.0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94.0.67.01 1.3.01 1.49.0.21-.15.45-.55.38A7.995 7.995.0 010 8c0-4.42 3.58-8 8-8z"/></svg></a>
<a href=https://space.bilibili.com/2084095738 target=_blank title=当UP主的一天><svg width="20" height="20" viewBox="0 0 18 18" fill="none" class="zhuzhan-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.73252 2.67094c-.40023-.3861-.40023-1.02721.0-1.4133.38039-.366956.983-.366956 1.36339.0L7.21723 3.30403C7.27749 3.36218 7.32869 3.4261 7.37081 3.49407H10.5789C10.6211 3.4261 10.6723 3.36218 10.7325 3.30403l2.1213-2.04639C13.2342.890684 13.8368.890684 14.2172 1.25764c.4003.38609.4003 1.0272.0 1.4133L13.364 3.49407H14c2.2091.0 4 1.79086 4 4V12.9996c0 2.2091-1.7909 4-4 4H4c-2.20914.0-4-1.7909-4-4V7.49406C0 5.28492 1.79086 3.49407 4 3.49407h.58579l-.85327-.82313zM4 5.42343c-1.10457.0-2 .89543-2 2V13.0702c0 1.1046.89543 2 2 2H14c1.1046.0 2-.8954 2-2V7.42343c0-1.10457-.8954-2-2-2H4zM5 9.31747c0-.55228.44772-1 1-1s1 .44772 1 1V10.2115c0 .552300000000001-.44772 1-1 1S5 10.7638 5 10.2115V9.31747zm7-1c-.552300000000001.0-1 .44772-1 1V10.2115C11 10.7638 11.4477 11.2115 12 11.2115S13 10.7638 13 10.2115V9.31747c0-.55228-.447699999999999-1-1-1z"/></svg></a></div></div><script src="/js/moment.min.js?v=2.29.4"></script><script src=/js/moment.twitter.min.js></script><script>function formatDate(e){return typeof e=="number"&&(e=new Date(e*1e3).toISOString()),moment(Date.parse(e)).twitterLong().replace(/\s\d{2}:\d{2}/,"")}</script><div class=single-nrong><div class=single-zw><div class=article_details><div class=article_details_title>HUGO 折腾随记之热力图 / 段落导航</div><img src=https://img.koobai.com/article/20240224_hugo.webp class="top-img img-hide"></div><div class=content_zhengwen><div class=content><p>在闲逛各博客的时候，发现有些功能蛮有意思的，于是趁现在还没忙碌起来，跟着抄了下作业，同时通过 AI 的帮忙，优化了下以适应自己页面的风格。</p><h2 id=博文热力图>博文热力图</h2><p><img src=https://img.koobai.com/article/20240224_relitu.webp alt=热力图 class=img-hide loading=lazy decoding=async></p><p>最开始看到好像是因为
<a href="/tiaozhuan?target=aHR0cHM6Ly9pbW1tbW0uY29tLw%3d%3d" target=_blank>木木老师</a>发了个memos，当时想着自己平常也不怎么更新博文，所以意义不大。这两天又在
<a href="/tiaozhuan?target=aHR0cHM6Ly9ibG9nLmRvdWNoaS5zcGFjZS9odWdvLWJsb2ctaGVhdG1hcC8jZ3NjLnRhYj0w" target=_blank>椒盐豆豉</a>中看到完整的教程，心想这次页面布局改成很窄的单栏之后，似乎很契合小而美的特性。一顿操作，跟原版的区别在于：</p><ol><li>增加了支持暗黑模式。</li><li>删除了字数统计，及根据字数多少显示色块的深浅。</li><li>简化星期及月份的显示。</li><li>一周的开始，从周日改成周一。</li><li>在 Echarts 官网重新定制了 JS 功能，不然原版的有 1M 多。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>id</span><span class=o>=</span><span class=s2>&#34;heatmap&#34;</span> <span class=nx>style</span><span class=o>=</span><span class=s2>&#34;max-width: 700px;height: 110px;margin-bottom: 40px;&#34;</span><span class=o>&gt;&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>script</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;https://img.koobai.com/echarts.min.js&#34;</span><span class=o>&gt;&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>script</span> <span class=nx>type</span><span class=o>=</span><span class=s2>&#34;text/javascript&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>chartDom</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;heatmap&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>myChart</span> <span class=o>=</span> <span class=nx>echarts</span><span class=p>.</span><span class=nx>init</span><span class=p>(</span><span class=nx>chartDom</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nb>window</span><span class=p>.</span><span class=nx>onresize</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>myChart</span><span class=p>.</span><span class=nx>resize</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>option</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>dataMap</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>{{</span> <span class=nx>range</span> <span class=p>((</span><span class=nx>where</span> <span class=p>.</span><span class=nx>Site</span><span class=p>.</span><span class=nx>RegularPages</span> <span class=s2>&#34;Type&#34;</span> <span class=s2>&#34;posts&#34;</span><span class=p>))</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>key</span> <span class=o>=</span> <span class=p>{{</span> <span class=p>.</span><span class=nb>Date</span><span class=p>.</span><span class=nx>Format</span> <span class=s2>&#34;2006-01-02&#34;</span> <span class=p>}};</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>value</span> <span class=o>=</span> <span class=nx>dataMap</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>link</span> <span class=o>=</span> <span class=p>{{</span> <span class=p>.</span><span class=nx>RelPermalink</span><span class=p>}};</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>title</span> <span class=o>=</span> <span class=p>{{</span> <span class=p>.</span><span class=nx>Title</span> <span class=p>}};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// multiple posts in same day
</span></span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>value</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>dataMap</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=p>[{</span><span class=nx>link</span><span class=p>,</span> <span class=nx>title</span><span class=p>}]);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>value</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span><span class=nx>link</span><span class=p>,</span> <span class=nx>title</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>{{</span><span class=o>-</span> <span class=nx>end</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>data</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=p>[</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>]</span> <span class=k>of</span> <span class=nx>dataMap</span><span class=p>.</span><span class=nx>entries</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>.</span><span class=nx>push</span><span class=p>([</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>.</span><span class=nx>length</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>startDate</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>year_Mill</span> <span class=o>=</span> <span class=nx>startDate</span><span class=p>.</span><span class=nx>setFullYear</span><span class=p>((</span><span class=nx>startDate</span><span class=p>.</span><span class=nx>getFullYear</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>startDate</span> <span class=o>=</span> <span class=o>+</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>year_Mill</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>endDate</span> <span class=o>=</span> <span class=o>+</span><span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>startDate</span> <span class=o>=</span> <span class=nx>echarts</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>formatTime</span><span class=p>(</span><span class=s1>&#39;yyyy-MM-dd&#39;</span><span class=p>,</span> <span class=nx>startDate</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>endDate</span> <span class=o>=</span> <span class=nx>echarts</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>formatTime</span><span class=p>(</span><span class=s1>&#39;yyyy-MM-dd&#39;</span><span class=p>,</span> <span class=nx>endDate</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 检测浏览器主题模式并选择颜色方案
</span></span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>prefersDarkMode</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>matchMedia</span> <span class=o>&amp;&amp;</span> <span class=nb>window</span><span class=p>.</span><span class=nx>matchMedia</span><span class=p>(</span><span class=s1>&#39;(prefers-color-scheme: dark)&#39;</span><span class=p>).</span><span class=nx>matches</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 定义明亮模式下的颜色方案
</span></span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>lightTheme</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>backgroundColor</span><span class=o>:</span> <span class=s1>&#39;#FFFFFF&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>fangkuaicolor</span><span class=o>:</span><span class=s1>&#39;#F4F4F4&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>gaoliangcolor</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;#ffd0b6&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nx>riqiColor</span><span class=o>:</span> <span class=s1>&#39;#999&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>textbrcolor</span><span class=o>:</span> <span class=s1>&#39;#FFF&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>xiankuangcolor</span><span class=o>:</span><span class=s1>&#39;rgba(0, 0, 0, 0.0)&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 定义暗黑模式下的颜色方案
</span></span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>darkTheme</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>backgroundColor</span><span class=o>:</span> <span class=s1>&#39;#1A1718&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>fangkuaicolor</span><span class=o>:</span><span class=s1>&#39;#282325&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>gaoliangcolor</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;#b25f2f&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nx>riqiColor</span><span class=o>:</span> <span class=s1>&#39;#666&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>textbrcolor</span><span class=o>:</span> <span class=s1>&#39;#332D2F&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>xiankuangcolor</span><span class=o>:</span><span class=s1>&#39;rgba(0, 0, 0, 0.0)&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 根据浏览器主题模式选择当前主题
</span></span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>currentTheme</span> <span class=o>=</span> <span class=nx>prefersDarkMode</span> <span class=o>?</span> <span class=nx>darkTheme</span> <span class=o>:</span> <span class=nx>lightTheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>option</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>tooltip</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>hideDelay</span><span class=o>:</span> <span class=mi>1000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>enterable</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>backgroundColor</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>textbrcolor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>borderWidth</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span> <span class=c1>// 边框宽度为0
</span></span></span><span class=line><span class=cl>    <span class=nx>formatter</span><span class=o>:</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>p</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>date</span> <span class=o>=</span> <span class=nx>p</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>posts</span> <span class=o>=</span> <span class=nx>dataMap</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>date</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>content</span> <span class=o>=</span> <span class=sb>`&lt;span style=&#34;font-size: 0.75rem;font-family: var(--font-family-code);&#34;&gt;</span><span class=si>${</span><span class=nx>date</span><span class=si>}</span><span class=sb>&lt;/span&gt;`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=p>[</span><span class=nx>i</span><span class=p>,</span> <span class=nx>post</span><span class=p>]</span> <span class=k>of</span> <span class=nx>posts</span><span class=p>.</span><span class=nx>entries</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>content</span> <span class=o>+=</span> <span class=s2>&#34;&lt;br&gt;&#34;</span><span class=p>;</span>          
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>link</span> <span class=o>=</span> <span class=nx>post</span><span class=p>.</span><span class=nx>link</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>title</span> <span class=o>=</span> <span class=nx>post</span><span class=p>.</span><span class=nx>title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nx>content</span> <span class=o>+=</span> <span class=sb>`&lt;a href=&#34;</span><span class=si>${</span><span class=nx>link</span><span class=si>}</span><span class=sb>&#34; target=&#34;_blank&#34;&gt;</span><span class=si>${</span><span class=nx>title</span><span class=si>}</span><span class=sb>&lt;/a&gt;`</span> <span class=o>+</span> <span class=s1>&#39;&lt;br&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>content</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>visualMap</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>show</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>inRange</span><span class=o>:</span> <span class=p>{</span>   
</span></span><span class=line><span class=cl>          <span class=nx>color</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>gaoliangcolor</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>calendar</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>left</span><span class=o>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>top</span><span class=o>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>bottom</span><span class=o>:</span><span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>right</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>cellSize</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span> <span class=mi>13</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nx>range</span><span class=o>:</span> <span class=p>[</span><span class=nx>startDate</span><span class=p>,</span> <span class=nx>endDate</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nx>itemStyle</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>color</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>fangkuaicolor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>borderWidth</span><span class=o>:</span> <span class=mf>3.5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>borderColor</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>backgroundColor</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>yearLabel</span><span class=o>:</span> <span class=p>{</span> <span class=nx>show</span><span class=o>:</span> <span class=kc>false</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>monthLabel</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>        <span class=nx>nameMap</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;01&#39;</span><span class=p>,</span> <span class=s1>&#39;02&#39;</span><span class=p>,</span> <span class=s1>&#39;03&#39;</span><span class=p>,</span> <span class=s1>&#39;04&#39;</span><span class=p>,</span> <span class=s1>&#39;05&#39;</span><span class=p>,</span> <span class=s1>&#39;06&#39;</span><span class=p>,</span> <span class=s1>&#39;07&#39;</span><span class=p>,</span> <span class=s1>&#39;08&#39;</span><span class=p>,</span> <span class=s1>&#39;09&#39;</span><span class=p>,</span> <span class=s1>&#39;10&#39;</span><span class=p>,</span> <span class=s1>&#39;11&#39;</span><span class=p>,</span> <span class=s1>&#39;12&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nx>textStyle</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>color</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>riqiColor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>dayLabel</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>firstDay</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>nameMap</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;日&#39;</span><span class=p>,</span> <span class=s1>&#39;一&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;三&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;五&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>textStyle</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>color</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>riqiColor</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>splitLine</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>lineStyle</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>color</span><span class=o>:</span> <span class=nx>currentTheme</span><span class=p>.</span><span class=nx>xiankuangcolor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>series</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;heatmap&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>coordinateSystem</span><span class=o>:</span> <span class=s1>&#39;calendar&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span> <span class=nx>data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>myChart</span><span class=p>.</span><span class=nx>setOption</span><span class=p>(</span><span class=nx>option</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>myChart</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>params</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>params</span><span class=p>.</span><span class=nx>componentType</span> <span class=o>===</span> <span class=s1>&#39;series&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// open the first post on the day
</span></span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>post</span> <span class=o>=</span> <span class=nx>dataMap</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>params</span><span class=p>.</span><span class=nx>data</span><span class=p>[</span><span class=mi>0</span><span class=p>])[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>link</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>origin</span> <span class=o>+</span> <span class=nx>post</span><span class=p>.</span><span class=nx>link</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nb>window</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=nx>link</span><span class=p>,</span> <span class=s1>&#39;_blank&#39;</span><span class=p>).</span><span class=nx>focus</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span></code></pre></div><h2 id=详情页段落目录导航>详情页段落目录导航</h2><p><img src=https://img.koobai.com/article/20240224_duanldh.webp alt=段落导航 class=img-hide loading=lazy decoding=async></p><p>这个功能早在去年重新折腾博客的时候就想增加，但当时因为不大会，搞得都不完美，所以也就不了了之。这几天在
<a href="/tiaozhuan?target=aHR0cHM6Ly9hdHB4LmNvbS9ibG9nL3R5cGVjaG8tdG8taHVnby8%3d" target=_blank>atpX</a>中，看到文章目录滚动高亮教程，于是又试着折腾了下。经过跟 AI 的配合，完美显示，不过过程还是碰到问题：</p><h3 id=1-显示位置>1. 显示位置</h3><p>如果直接使用 <code>position: fixed;</code> 特性，目录位置只会根据浏览器窗口的大小来改变。这就会导致，浏览器窗口很大，主内容跟目录就会分得很开；浏览器窗口小，主内容跟目录有可能就会重叠。尝试了各种解决方法之后，决定在最上层的父元素中使用<code>display: flex;</code>。然后在目录的上一级再加入一个父元素div，完美解决。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;single-nrong&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;single-zw&#34;</span><span class=p>&gt;</span>主内容<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;paragraph-dh&#34;</span><span class=p>&gt;</span>文章段落目录导航<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>single-nrong</span> <span class=p>{</span><span class=k>display</span><span class=p>:</span> <span class=kc>flex</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>single-zw</span> <span class=p>{</span><span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=p>{</span><span class=k>position</span><span class=p>:</span> <span class=kc>fixed</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=2-无目录导航>2. 无目录导航</h3><p> 文章页如果没有目录导航，也会显示内容标题，这就看着很奇怪了。解决方法：
 </p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>  {{ $toc := .TableOfContents }}
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--判断&lt;li&gt;标签中有没有内容，如果有内容就显示，无内容就隐藏--&gt;</span>
</span></span><span class=line><span class=cl>  {{ if findRE &#34;<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>&#34; $toc 1 }} 
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;paragraph-dh&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;sidebar-biaot&#34;</span><span class=p>&gt;</span>文章段落导航<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ $toc }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ end }}
</span></span></code></pre></div><h3 id=3-完整方案>3. 完整方案</h3><p>特性：1. 默认隐藏，滑动到一定距离显示。2. 滑动到页面上方 1/4 处高亮显示当前目录。3. 点击目录导航平滑滚动到对应的标题。4. 无目录导航的文章页不显示。</p><ol><li>新建 js 文件，如 single.js。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;DOMContentLoaded&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>postTOC</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.paragraph-dh&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>headingObserver</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>IntersectionObserver</span><span class=p>(</span><span class=nx>headings</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>headings</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(({</span> <span class=nx>target</span><span class=p>,</span> <span class=nx>isIntersecting</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>link</span> <span class=o>=</span> <span class=nx>postTOC</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=sb>`a[href=&#34;#</span><span class=si>${</span><span class=nx>target</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>&#34;]`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>isIntersecting</span> <span class=o>&amp;&amp;</span> <span class=nx>link</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>postTOC</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>a</span> <span class=p>=&gt;</span> <span class=nx>a</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>                <span class=nx>link</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=p>{</span> <span class=nx>rootMargin</span><span class=o>:</span> <span class=s1>&#39;0px 0px -75%&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;.content h2[id], .content h3[id]&#39;</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>heading</span> <span class=p>=&gt;</span> <span class=nx>headingObserver</span><span class=p>.</span><span class=nx>observe</span><span class=p>(</span><span class=nx>heading</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;scroll&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>postTOC</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>opacity</span> <span class=o>=</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>&gt;</span> <span class=mi>400</span><span class=p>)</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>postTOC</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>targetElement</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;href&#39;</span><span class=p>).</span><span class=nx>substring</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>targetElement</span><span class=p>)</span> <span class=nx>targetElement</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span> <span class=nx>behavior</span><span class=o>:</span> <span class=s1>&#39;smooth&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><ol start=2><li>在 single.html 文件合适的位置中添加：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;single-nrong&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;single-zw&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   文章内容
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ $toc := .TableOfContents }}
</span></span><span class=line><span class=cl>  {{ if findRE &#34;<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>&#34; $toc 1 }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;paragraph-dh&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;sidebar-biaot&#34;</span><span class=p>&gt;</span>文章段落导航<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ $toc }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;/js/single.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><ol start=3><li>在 css 文件中添加：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>single-nrong</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>single-zw</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=err>@include</span> <span class=err>breakpoint(&#39;large&#39;)</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>position</span><span class=p>:</span> <span class=kc>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>opacity</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>top</span><span class=p>:</span> <span class=mi>70</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>margin-left</span><span class=p>:</span> <span class=mi>40</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>transition</span><span class=p>:</span> <span class=k>opacity</span> <span class=mf>0.5</span><span class=kt>s</span> <span class=kc>ease</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>    <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#f0f0f0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>padding</span><span class=p>:</span> <span class=mi>0</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>max-width</span><span class=p>:</span> <span class=mi>300</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=nt>a</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>line-height</span><span class=p>:</span> <span class=mf>1.4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=mh>#666</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=nt>ul</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>gap</span><span class=p>:</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=k>grid</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=nt>ul</span> <span class=nt>ul</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>padding-inline-start</span><span class=p>:</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>margin-top</span><span class=p>:</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>paragraph-dh</span> <span class=nt>a</span><span class=p>.</span><span class=nc>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>text</span><span class=o>-</span><span class=n>highlight</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>transition</span><span class=p>:</span> <span class=kc>all</span> <span class=mf>.25</span><span class=kt>s</span> <span class=kc>ease-in-out</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=结语>结语</h2><p>现在折腾博客是完全离不开各类 AI 协助了，让一个不懂技术的人也能瞎折腾。这几次折腾的时候发现 coze 非常好用，基本上一次就能给出正确答案。看来 ChatGPT 4.0 就是牛逼。</p></div><div class=single-biaoq><div class=page-time>更新于
<script>document.write(formatDate(1708764581))</script></div><div class=single-tag><div class=single-tag-c>#<a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></div><div class=single-tag-c>#<a href=/tags/%E6%8A%98%E8%85%BE/>折腾</a></div><div class=single-tag-c>#<a href=/tags/hugo/>Hugo</a></div></div></div></div><div class=archives_nrong><div class=archives_one><div><div class=archive-title><a href=/chunjie/>这个春节有什么不一样</a></div><div class=archive-time><script>document.write(formatDate(1708158166))</script></div></div><div class=archive-img><a href=/chunjie/><img loading=lazy decoding=async src=https://img.koobai.com/article/20240217_IMG_1443.webp></a></div></div><div class=archives_one><div><div class=archive-title><a href=/af105/>自行车给自己带来了什么情绪价值爽点</a></div><div class=archive-time><script>document.write(formatDate(1710667134))</script></div></div><div class=archive-img><a href=/af105/><img loading=lazy decoding=async src=https://img.koobai.com/article/20240317_IMG_1891.webp></a></div></div></div><div id=MoreComments onclick=loadComments()>评论一下 ...</div><div class=article-comments id=articlecomments style=display:none><link href=https://img.koobai.com/Artalk.css rel=stylesheet><script src=https://img.koobai.com/Artalk.js></script><div id=Comments></div><script>Artalk.init({el:"#Comments",pageKey:"https://koobai.com/hugo_suiji/",pageTitle:"HUGO 折腾随记之热力图 / 段落导航",server:"https://c.koobai.com",site:"Koobai 空白生活"})</script></div></div><div><div class=paragraph-dh><nav id=TableOfContents><ul><li><a href=#博文热力图>博文热力图</a></li><li><a href=#详情页段落目录导航>详情页段落目录导航</a><ul><li><a href=#1-显示位置>1. 显示位置</a></li><li><a href=#2-无目录导航>2. 无目录导航</a></li><li><a href=#3-完整方案>3. 完整方案</a></li></ul></li><li><a href=#结语>结语</a></li></ul></nav></div></div></div><script src=/js/single.js></script></div><div class=footer-background><div class=footer><div class=footer-info>&copy; 2026 <a href=/>空白Koobai</a>.
由 <a href=https://gohugo.io/ target=_blank>Hugo </a>提供强力驱动,<span class=youpaiyun><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank>又拍云</a>提供图片存储/加速</span>.
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备16011784号-1</a> <a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011302000343">浙公网安备 33011302000343 号</a></div><div class=footer-rss><a href=https://memos.koobai.com/u/1/rss.xml target=_blank>唠叨 RSS</a> /
<a href=https://koobai.com/index.xml target=_blank>博文 RSS</a></div></div></div><script src=/js/view-image.min.js></script><div class=gotop_hide><div class=gotop onclick=smoothScrollTop() id=gotop><svg viewBox="0 0 2048 2048"><path d="m1875 1037-787-787v1798H960V250l-787 787-90-90L1024 6l941 941z"/></svg></div></div><script type=text/javascript src=/js/bundle.min.96f27c33bd4b6dfc9f44e48464c641ba94c313557342bec737596c6da2f14356.js></script></body></html>